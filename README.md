# bicycle
Web chat with end-to-end crypto


[Cайт](https://platypuses.servebeer.com/)


## Требования
Версия Python: `>=Python3.5`

Пакет `tinydb`. Установить его можно через `pip`:

```
pip install tinydb
```

## Конфигурация
`general`:

- `modules` - список запускаемых модулей

- `debug` - если true, будут выводится логи уровня DEBUG

- `output_dir` - директория хранения файлов приложения

`web_server`:

- `host` - **(необх.)** адрес хоста web-сервера

- `domain` - **(необх.)** привязанное доменное имя

- `port` - **(необх.)** порт web-сервера

- `www_dir` - **(необх.)** директория с контентом сайта

- `db_address` - путь к IPC базы данных

- `use_tls` - если true, использовать TLS

- `certificate` и `keyfile` - путь к сертификату и ключу (**необх.** если `use_tls`)

- `mailhost`, `port` - **(необх.)** адрес почтового сервера

- `account` - **(необх.)** путь к файлу с логином и паролем для почтового сервера

`db_server`:

- `storage_path` - **(необх.)** директория файлов базы

- `server_address` - **(необх.)** адрес unix-сокета, на котором слушает db-сервер

- `max_tasks` - максимальный размер очереди запросов на выполнение


## Запуск

Необходимо предварительно **проверить конфигурации** (директория `./config`, см. параграф выше)

### 1 вариант

Автоматическая установка зависимостей и запуск:

```
./run.sh
```

(`./run.sh -е` запустит тоже самое, но без виртуального окружения)

### 2 вариант
Запуск напрямую главного скрипта:

```
python bicycle.py
```
